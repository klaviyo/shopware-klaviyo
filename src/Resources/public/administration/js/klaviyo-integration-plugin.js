!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/klaviyointegrationplugin/",n(n.s="3XZI")}({"+19P":function(e,t,n){var i={"./icons-klaviyo-integration.svg":"olon"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id="+19P"},"/+IU":function(e,t,n){},"2/yr":function(e,t){e.exports='{% block sw_promotion_v2_list_smart_bar_actions_add %}\n    {% parent %}\n    <sw-button\n            :link="getExportUrl()"\n            variant="primary"\n    >\n        {{ $tc(\'klaviyo_integration_plugin.promotion.exportInKlaviyoFormatButtonLabel\') }}\n    </sw-button>\n{% endblock %}\n\n{% parent %}'},"3XZI":function(e,t,n){"use strict";n.r(t);var i=n("2/yr"),o=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Component.override("sw-promotion-v2-list",{template:o.a,methods:{getExportUrl:function(){return Shopware.Context.api.apiPath+"/klaviyo/integration/promotion/export"}}});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,n,i,o=c(a);function a(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"klaviyo";return r(this,a),(n=o.call(this,e,t,i)).name="klaviyoHistoricalEventsSynchronizationApiService",n}return t=a,(n=[{key:"scheduleSynchronization",value:function(){var e=this.getBasicHeaders();return this.httpClient.post("_action/klaviyo/historical-event-tracking/synchronization/schedule",{},{headers:e})}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Shopware.Classes.ApiService);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,i,o=b(a);function a(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"klaviyo";return h(this,a),(n=o.call(this,e,t,i)).name="klaviyoSubscribersSynchronizationApiService",n}return t=a,(n=[{key:"scheduleSynchronization",value:function(){var e=this.getBasicHeaders();return this.httpClient.post("_action/klaviyo/subscribers/synchronization/schedule",{},{headers:e})}}])&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Shopware.Classes.ApiService);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Service().register("klaviyoHistoricalEventsSynchronizationApiService",(function(e){var t=Shopware.Application.getContainer("init");return new p(t.httpClient,e.loginService)})),Shopware.Service().register("klaviyoSubscribersSynchronizationApiService",(function(e){var t=Shopware.Application.getContainer("init");return new m(t.httpClient,e.loginService)}));var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,n,i,o=I(a);function a(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"klaviyo";return w(this,a),(n=o.call(this,e,t,i)).name="klaviyoApiKeyValidatorService",n}return t=a,(n=[{key:"validate",value:function(e,t,n){var i=this.getBasicHeaders();return this.httpClient.post("/_action/od-api-key-validate",{privateKey:e,publicKey:t,listName:n},{headers:i})}}])&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Shopware.Classes.ApiService);Shopware.Service().register("klaviyoApiKeyValidatorService",(function(e){var t=Shopware.Application.getContainer("init");return new F(t.httpClient,e.loginService)}));var x,E=(x=n("+19P")).keys().reduce((function(e,t){var n={name:t.split(".")[1].split("/")[1],functional:!0,render:function(e,n){var i=n.data;return e("span",{class:[i.staticClass,i.class],style:i.style,attrs:i.attrs,on:i.on,domProps:{innerHTML:x(t)}})}};return e.push(n),e}),[]),O=Shopware.Component,T=(E.map((function(e){return O.register(e.name,e)})),n("St/j")),A=n.n(T),z=n("8SxS"),j=n.n(z),B=n("rUJT"),L=n.n(B);Shopware.Service("exportTemplateService").registerProductExportTemplate({name:"klaviyo-product-feed",translationKey:"klaviyo_integration_plugin.productComparison.templates.template-label.klaviyo-product-feed",headerTemplate:A.a.trim(),bodyTemplate:j.a,footerTemplate:L.a.trim(),fileName:"klaviyo.xml",encoding:"UTF-8",fileFormat:"xml",generateByCronjob:!1,interval:86400});var $=n("OxcY"),N=n.n($);n("JsR3");function V(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var M=Shopware.Component,R=Shopware.Data.Criteria;M.register("klaviyo-job-listing",{template:N.a,inject:["OdRescheduleService","repositoryFactory","filterFactory","feature"],data:function(){return{jobItems:null,isLoading:!1,reloadInterval:null,showJobInfoModal:!1,showJobSubsModal:!1,currentJobID:null,showMessagesModal:!1,currentJobMessages:null,sortType:"status",jobDisplayType:null,autoLoad:!1,autoLoadIsActive:!1,autoReloadInterval:6e4,statusFilterOptions:[],typeFilterOptions:[],filterCriteria:[],defaultFilters:["job-status-filter","job-type-filter","job-date-filter"],storeKey:"klaviyo_filters",activeFilterNumber:0,searchConfigEntity:"od_scheduler_job",showBulkEditModal:!1,hideFilters:!1}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")},klaviyoJobTypes:function(){return["od-klaviyo-events-sync-handler","od-klaviyo-cart-event-sync-handler","od-klaviyo-full-order-sync-handler","od-klaviyo-full-subscriber-sync-handler","od-klaviyo-order-event-sync-handler","od-klaviyo-order-sync-handler","od-klaviyo-subscriber-sync-handler"]},listFilters:function(){return this.filterFactory.create("od_scheduler_job",{"job-status-filter":{property:"status",type:"multi-select-filter",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-status"),placeholder:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-status-placeholder"),valueProperty:"value",labelProperty:"name",options:this.statusFilterOptions},"job-type-filter":{property:"name",type:"multi-select-filter",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-type"),placeholder:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-type-placeholder"),valueProperty:"value",labelProperty:"name",options:this.typeFilterOptions},"job-date-filter":{property:"createdAt",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.created-at"),dateType:"datetime-local",fromFieldLabel:this.$tc("klaviyo-job-listing.page.job-listing.filter.from"),toFieldLabel:this.$tc("klaviyo-job-listing.page.job-listing.filter.to"),showTimeframe:!0}})}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.loadFilterValues()},onDisplayModeChange:function(e){var t=this.$el;if(t.classList.remove("no-filter"),"list"!==e)return t.classList.add("no-filter"),this.$refs.odSidebar.closeSidebar(),0!==this.$refs.odFilter.$el.length&&this.$refs.odFilter.resetAll(),this.hideFilters=!0;this.hideFilters=!1,this.loadFilterValues()},onRefresh:function(){this.$refs.jobListing.onRefresh(this.filterCriteria),this.loadFilterValues()},updateCriteria:function(e){this.page=1,this.filterCriteria=e,this.activeFilterNumber=e.length},loadFilterValues:function(){var e=this;this.filterLoading=!0;var t=new R;return t.addFilter(R.equals("parentId",null)),t.addSorting(R.sort("createdAt","DESC",!1)),t.addFilter(R.equalsAny("type",["od-klaviyo-events-sync-handler","od-klaviyo-cart-event-sync-handler","od-klaviyo-full-order-sync-handler","od-klaviyo-full-subscriber-sync-handler","od-klaviyo-order-event-sync-handler","od-klaviyo-order-sync-handler","od-klaviyo-subscriber-sync-handler"])),this.jobRepository.search(t,Shopware.Context.api).then((function(t){var n=V(new Set(t.map((function(e){return e.status})))),i=V(new Set(t.map((function(e){return e.name}))));return e.statusFilterOptions=[],e.typeFilterOptions=[],n.forEach((function(t){e.statusFilterOptions.push({name:e.$tc("job-listing.page.listing.grid.job-status."+t),value:t})})),i.forEach((function(t){e.typeFilterOptions.push({name:t,value:t})})),e.filterLoading=!1,Promise.resolve()})).catch((function(){e.filterLoading=!1}))}}});var U=n("ydqZ"),J=n.n(U),H=(n("MioN"),Shopware),Z=H.Component,q=H.Defaults,W=Shopware.Data.Criteria;Z.register("klaviyo-integration-settings",{template:J.a,inject:["repositoryFactory"],data:function(){return{isLoading:!1,isSaveSuccessful:!1,privateKeyFilled:!1,publicKeyFilled:!1,listNameFilled:!1,messageBlankErrorState:null,mappingErrorStates:{},config:null,salesChannels:[]}},metaInfo:function(){return{title:this.$createTitle()}},created:function(){this.createdComponent()},computed:{salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")},salesChannelCriteria:function(){var e=new W(1,500);return e.addFilter(W.equalsAny("typeId",[q.storefrontSalesChannelTypeId,q.apiSalesChannelTypeId])),e},privateKeyErrorState:function(){return this.privateKeyFilled?null:this.messageBlankErrorState},publicKeyErrorState:function(){return this.publicKeyFilled?null:this.messageBlankErrorState},listNameErrorState:function(){return this.listNameFilled?null:this.messageBlankErrorState},hasError:function(){var e=0!==Object.values(this.mappingErrorStates).filter((function(e){return void 0!==e.code})).length;return!this.privateKeyFilled||!this.publicKeyFilled||!this.listNameFilled||e}},watch:{config:{handler:function(){var e=this.$refs.configComponent.selectedSalesChannelId,t=!!this.config["KlaviyoIntegrationPlugin.config.enabled"];null!==e&&t?(this.privateKeyFilled=!!this.config["KlaviyoIntegrationPlugin.config.privateApiKey"],this.publicKeyFilled=!!this.config["KlaviyoIntegrationPlugin.config.publicApiKey"],this.listNameFilled=!!this.config["KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync"]):this.privateKeyFilled=this.publicKeyFilled=this.listNameFilled=!0},deep:!0}},methods:{createdComponent:function(){this.getSalesChannels(),this.messageBlankErrorState={code:1,detail:this.$tc("klaviyo-integration-settings.configs.credentials.messageNotBlank")}},onChangeLanguage:function(){this.getSalesChannels()},getSalesChannels:function(){var e=this;this.isLoading=!0,this.salesChannelRepository.search(this.salesChannelCriteria,Shopware.Context.api).then((function(t){t.add({id:null,translated:{name:e.$tc("sw-sales-channel-switch.labelDefaultOption")}}),e.salesChannels=t})).finally((function(){e.isLoading=!1}))},onSave:function(){var e=this;this.hasError||(this.isLoading=!0,this.$refs.configComponent.save().then((function(){e.isSaveSuccessful=!0})).finally((function(){e.isLoading=!1})))}}});var Y=n("9+jM"),G=n.n(Y);n("aWUg");function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ee=Shopware,te=ee.Component,ne=ee.Mixin;ee.Utils;te.register("klaviyo-integration-settings-general",{template:G.a,inject:["klaviyoApiKeyValidatorService"],mixins:[ne.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{type:String,required:!1,default:null},privateKeyErrorState:{type:Object,required:!1,default:null},publicKeyErrorState:{type:Object,required:!1,default:null},listNameErrorState:{type:Object,required:!1,default:null}},data:function(){return{isLoading:!1,apiValidationInProgress:!1}},created:function(){this.createdComponent()},methods:{createdComponent:function(){for(var e="KlaviyoIntegrationPlugin.config.",t=0,n=Object.entries({enabled:!1,trackDeletedAccountOrders:!1,trackViewedProduct:!0,trackRecentlyViewedItems:!0,trackAddedToCart:!0,trackStartedCheckout:!0,trackPlacedOrder:!0,trackOrderedProduct:!0,trackFulfilledOrder:!0,trackCancelledOrder:!0,trackRefundedOrder:!0,trackSubscribedToBackInStock:!0,isInitializeKlaviyoAfterInteraction:!0,popUpOpenBtnColor:"",popUpOpenBtnBgColor:"",popUpCloseBtnColor:"",popUpCloseBtnBgColor:"",subscribeBtnColor:"",subscribeBtnBgColor:"",popUpAdditionalClasses:""});t<n.length;t++){var i=X(n[t],2),o=i[0],a=i[1];void 0===this.allConfigs.null[e+o]&&this.$set(this.allConfigs.null,e+o,a)}},checkTextFieldInheritance:function(e){return"string"!=typeof e||e.length<=0},checkBoolFieldInheritance:function(e){return"boolean"!=typeof e},validateApiCredentials:function(){var e=this;this.apiValidationInProgress=!0;var t=this.actualConfigData["KlaviyoIntegrationPlugin.config.privateApiKey"],n=this.actualConfigData["KlaviyoIntegrationPlugin.config.publicApiKey"],i=this.actualConfigData["KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync"];this.credentialsEmptyValidation("privateApiKey",t)*this.credentialsEmptyValidation("publicApiKey",n)*this.credentialsEmptyValidation("klaviyoListForSubscribersSync",i)?this.klaviyoApiKeyValidatorService.validate(t,n,i).then((function(t){if(200===t.status){var n=t.data;n.success?e.createNotificationSuccess({title:e.$root.$tc("global.default.success"),message:e.$tc("klaviyo-integration-settings.configs.apiValidation.correctApiMessage")}):n.general_error?e.createNotificationError({message:e.$tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")}):n.incorrect_credentials?e.createNotificationError({title:e.$tc("klaviyo-integration-settings.configs.apiValidation.incorrectCredentialsTitle"),message:n.incorrect_credentials_message}):n.incorrect_list&&e.createNotificationWarning({message:e.$tc("klaviyo-integration-settings.configs.apiValidation.listNotExistMessage")})}else e.createNotificationError({message:e.$tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")})})).catch((function(){e.createNotificationError({message:e.$tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")})})).finally((function(){e.apiValidationInProgress=!1})):this.apiValidationInProgress=!1},credentialsEmptyValidation:function(e,t){return void 0!==t&&""!==t&&null!==t||(this.createNotificationError({message:this.$tc("klaviyo-integration-settings.configs.apiValidation.emptyErrorMessage",0,{entityName:this.$tc("klaviyo-integration-settings.configs."+e+".label")})}),!1)}}});var ie=n("991l"),oe=n.n(ie),ae=(n("Fybe"),Shopware),re=ae.Component,le=ae.Context,se=Shopware.Data.Criteria;re.register("klaviyo-integration-settings-customer",{template:oe.a,props:{allConfigs:{type:Object,required:!0},mappingErrorStates:{type:Object,required:!0}},inject:["repositoryFactory"],created:function(){this.createdComponent()},data:function(){return{isLoading:!1,isSomeMappingsNotFilled:!1,systemCustomFields:null,configPath:"KlaviyoIntegrationPlugin.config.customerFieldMapping"}},computed:{customFieldRepository:function(){return this.repositoryFactory.create("custom_field")},customFieldCriteria:function(){var e=new se;return e.addSorting(se.sort("name","ASC",!0)),e.addFilter(se.equals("customFieldSet.relations.entityName","customer")),e.addFilter(se.equals("active",1)),e.addAssociation("customFieldSet"),e},noCustomFieldsError:function(){return 0===this.systemCustomFields.total?this.$tc("klaviyo-integration-settings.customer.fieldMapping.noMappingFieldsError"):null},customFieldMapping:{get:function(){return this.allConfigs.null[this.configPath]}}},watch:{customFieldMapping:{handler:function(){var e=this,t=this.allConfigs.null[this.configPath];Object.keys(t).every((function(n){return t[n].active&&!t[n].customLabel?e.$set(e.mappingErrorStates,n,{code:1,detail:e.$tc("klaviyo-integration-settings.customer.fieldMapping.labelNotFilledError")}):e.$delete(e.mappingErrorStates,n),!0}))},deep:!0}},methods:{createdComponent:function(){var e=this;this.isLoading=!0,this.localeIso=le.app.fallbackLocale,(void 0===this.customFieldMapping||Array.isArray(this.customFieldMapping))&&this.$set(this.allConfigs.null,this.configPath,{}),this.customFieldRepository.search(this.customFieldCriteria,le.api).then((function(t){e.systemCustomFields=t})).finally((function(){e.processCustomFieldMappings(),e.isLoading=!1}))},processCustomFieldMappings:function(){var e=this,t=[],n=this.systemCustomFields.map((function(e){return e.name}));Object.keys(this.customFieldMapping).forEach((function(i){e.customFieldMapping[i].active&&!e.customFieldMapping[i].customLabel?e.$set(e.mappingErrorStates,i,{code:1,detail:e.$tc("klaviyo-integration-settings.customer.fieldMapping.labelNotFilledError")}):e.$set(e.mappingErrorStates,i,{}),t.push(e.customFieldMapping[i].customFieldName),-1===n.indexOf(e.customFieldMapping[i].customFieldName)&&(e.$delete(e.mappingErrorStates,i),e.$delete(e.customFieldMapping,i))})),n.forEach((function(n){t.includes(n)||e.addNewEmptyFieldMapping(e.systemCustomFields.filter((function(e){return e.name===n}))[0])}))},getCustomFieldHint:function(e){var t,n,i,o,a=this.customFieldMapping[e].customFieldName,r=null!==(t=this.systemCustomFields.filter((function(e){return e.name===a}))[0])&&void 0!==t?t:{};return null!==(n=null!==(i=null==r||null===(o=r.config)||void 0===o?void 0:o.label[this.localeIso])&&void 0!==i?i:null==r?void 0:r.name)&&void 0!==n?n:"<not_found>"},addNewEmptyFieldMapping:function(e){var t="mapping_"+this.generateGuid();this.$set(this.customFieldMapping,t,{customLabel:"",customFieldName:e.name,active:!1}),this.$set(this.mappingErrorStates,t,{})},generateGuid:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}});var ce=n("DLxA"),ue=n.n(ce);function de(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiService=t,this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1,this.date=n}var t,n,i;return t=e,(n=[{key:"scheduleSynchronization",value:function(){var e=this.apiService.scheduleSynchronization();return this.isSynchronizationInProgress=!0,e.then(function(e){this.isSynchronizationSuccess=!!e.data.isScheduled}.bind(this)).catch(function(e){this.isSynchronizationSuccess=!1}.bind(this)).finally(function(){this.isSynchronizationInProgress=!1}.bind(this)),e}},{key:"resetSynchronizationState",value:function(){this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1}}])&&de(t.prototype,n),i&&de(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ge=Shopware,he=ge.Component,fe=ge.Mixin,ye=Shopware.Utils.format.date;he.register("klaviyo-integration-settings-synchronization-control",{template:ue.a,inject:["klaviyoHistoricalEventsSynchronizationApiService","klaviyoSubscribersSynchronizationApiService"],mixins:[fe.getByName("notification")],data:function(){return{historicalEventsJobInteractor:new pe(this.klaviyoHistoricalEventsSynchronizationApiService,ye),subscribersSynchronizationJobInteractor:new pe(this.klaviyoSubscribersSynchronizationApiService,ye)}},methods:{scheduleHistoricalEventsSynchronization:function(){this.historicalEventsJobInteractor.scheduleSynchronization().then(function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}.bind(this)).catch(function(e){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}.bind(this))},scheduleSubscribersSynchronization:function(){this.subscribersSynchronizationJobInteractor.scheduleSynchronization().then(function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}.bind(this)).catch(function(){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}.bind(this))},resetSubscribersSynchronizationState:function(){this.subscribersSynchronizationJobInteractor.resetSynchronizationState()},resetHistoricalEventsSynchronizationState:function(){this.historicalEventsJobInteractor.resetSynchronizationState()}}});var be=n("t+xC"),ve=n.n(be);Shopware.Component.register("klaviyo-integration-settings-icon",{template:ve.a});var ke=n("NuHH"),me=n("MRTA");Shopware.Module.register("klaviyo-plugin",{type:"plugin",title:"klaviyo-integration-settings.title",description:"klaviyo-job-listing.general.description",color:"#F88962",icon:"default-avatar-multiple",snippets:{"de-DE":ke,"en-GB":me},routes:{index:{component:"klaviyo-job-listing",path:"index"},settings:{component:"klaviyo-integration-settings",path:"settings",meta:{parentPath:"sw.settings.index.plugins"}}},settingsItem:{group:"plugins",to:"klaviyo.plugin.settings",label:"klaviyo-integration-settings.label",iconComponent:"klaviyo-integration-settings-icon",backgroundEnabled:!0},navigation:[{id:"klaviyo",label:"klaviyo-job-listing.menu.title",color:"#F88962",icon:"default-avatar-multiple",parent:"sw-marketing",path:"klaviyo.plugin.index",position:100}]});var _e=n("iPUC"),we=n.n(_e);Shopware.Component.override("sw-product-deliverability-form",{template:we.a,methods:{createdComponent:function(){void 0===this.product.stock&&(this.product.stock=0),this.product&&(this.product.customFields||(this.product.customFields={}),this.product.customFields.klaviyo_back_in_stock_disabled||(this.product.customFields.klaviyo_back_in_stock_disabled=!1))}}})},"8SxS":function(e,t){e.exports="<Product>\n    <id>{{ product.productNumber }}</id>\n    <title>{{ product.translated.name|escape }}</title>\n    <link>{{ seoUrl('frontend.detail.page', {'productId': product.id}) }}</link>\n    <description>{{ product.translated.description|escape }}</description>\n    <price>{% set price = product.calculatedPrice %} {% if product.calculatedPrices.count %} {% set price = product.calculatedPrices.last %} {% endif %} {{ price.unitPrice }}</price>\n    {%- if product.cover is not null and product.cover.media -%}\n    <image_link>{{ product.cover.media.url }}</image_link>\n    {%- else -%}\n    <image_link>n/a</image_link>\n    {%- endif -%}\n    {%- if product.categories|length > 0 -%}\n        {% set categoryNames = [] %}\n\n        {% for category in product.categories %}\n            {% set categoryNames = categoryNames|merge([category.translated.name]) %}\n        {% endfor %}\n        <categories>{{ categoryNames|join(',')|raw|escape }}</categories>\n    {%- else -%}\n        <categories>n/a</categories>\n    {%- endif -%}\n    <inventory_quantity>{{ product.availableStock }}</inventory_quantity>\n    <inventory_policy>1</inventory_policy>\n</Product>\n"},"9+jM":function(e,t){e.exports='{% block klaviyo_integration_settings_general %}\n    <div>\n        <sw-card :title="$tc(\'klaviyo-integration-settings.general.initialization.general-label\')" class="klaviyo-interaction-settings">\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.isInitializeKlaviyoAfterInteraction\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.isInitializeKlaviyoAfterInteraction\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.isInitializeKlaviyoAfterInteraction"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.general.initialization.label\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     :helpText="$tc(\'klaviyo-integration-settings.general.initialization.helpText\')"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        </sw-card>\n        <sw-card :title="$tc(\'klaviyo-integration-settings.general.title\')">\n            {% block klaviyo_integration_settings_general_credentials_alert %}\n                <sw-alert v-if="selectedSalesChannelId === null" variant="warning">\n                    {{ $t(\'klaviyo-integration-settings.general.credentialsAlert\') }}\n                </sw-alert>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_test_api %}\n                <sw-button-process variant="ghost" v-if="selectedSalesChannelId !== null"\n                                   :isLoading="apiValidationInProgress"\n                                   @click="validateApiCredentials">\n                    {{ $tc(\'klaviyo-integration-settings.configs.apiValidation.buttonLabel\') }}\n                </sw-button-process>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_enabled %}\n                <sw-switch-field\n                    v-if="selectedSalesChannelId !== null"\n                    class="no-top-margin"\n                    v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.enabled\']"\n                    name="KlaviyoIntegrationPlugin.config.enabled"\n                    :label="$tc(\'klaviyo-integration-settings.configs.enabled.label\')"\n                    :helpText="$tc(\'klaviyo-integration-settings.configs.enabled.helpText\')">\n                </sw-switch-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_private_api_key %}\n                <sw-field\n                    v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.privateApiKey\']"\n                    name="KlaviyoIntegrationPlugin.config.privateApiKey"\n                    type="text"\n                    :label="$tc(\'klaviyo-integration-settings.configs.privateApiKey.label\')"\n                    :helpText="$tc(\'klaviyo-integration-settings.configs.privateApiKey.helpText\')"\n                    :disabled="selectedSalesChannelId === null"\n                    :error="privateKeyErrorState"\n                    required>\n                </sw-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_public_api_key %}\n                <sw-field\n                    v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.publicApiKey\']"\n                    name="KlaviyoIntegrationPlugin.config.privateApiKey"\n                    type="text"\n                    :label="$tc(\'klaviyo-integration-settings.configs.publicApiKey.label\')"\n                    :helpText="$tc(\'klaviyo-integration-settings.configs.publicApiKey.helpText\')"\n                    :disabled="selectedSalesChannelId === null"\n                    :error="publicKeyErrorState"\n                    required>\n                </sw-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_klaviyo_list_for_subscribers_sync %}\n                <sw-field\n                    v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync\']"\n                    name="KlaviyoIntegrationPlugin.config.privateApiKey"\n                    type="text"\n                    :label="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.label\')"\n                    :helpText="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.helpText\')"\n                    :disabled="selectedSalesChannelId === null"\n                    :error="listNameErrorState"\n                    required>\n                </sw-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_deleted_account_orders %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackDeletedAccountOrders\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackDeletedAccountOrders\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackDeletedAccountOrders"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackDeletedAccountOrders.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackDeletedAccountOrders.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_viewed_product %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackViewedProduct\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackViewedProduct\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackViewedProduct"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_recently_viewed_items %}\n                <sw-inherit-wrapper\n                        v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems\']"\n                        :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems\']"\n                        :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_added_to_cart %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackAddedToCart\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackAddedToCart\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackAddedToCart"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_started_checkout %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackStartedCheckout\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackStartedCheckout\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackStartedCheckout"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_placed_order %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackPlacedOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackPlacedOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackPlacedOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_ordered_product %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackOrderedProduct\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackOrderedProduct\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackOrderedProduct"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_fulfilled_order %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackFulfilledOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackFulfilledOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackFulfilledOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_cancelled_order %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackCancelledOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackCancelledOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackCancelledOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_refunded_order %}\n                <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackRefundedOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackRefundedOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackRefundedOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_back_in_stock %}\n                <sw-inherit-wrapper\n                        v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackSubscribedToBackInStock\']"\n                        :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackSubscribedToBackInStock\']"\n                        :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackSubscribedToBackInStock"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackSubscribedToBackInStock.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackSubscribedToBackInStock.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :value="props.currentValue"\n                                         @change="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n        </sw-card>\n        <sw-card\n            :title="$tc(\'klaviyo-integration-settings.pop-up.title\')"\n            v-if="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackSubscribedToBackInStock\']">\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.open-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_show_button %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.popUpOpenBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.popUpOpenBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.popUpOpenBtnColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_show_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.popUpOpenBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.popUpOpenBtnBgColor\']"\n                        >\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.popUpOpenBtnBgColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.close-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_hide_button %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.popUpCloseBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.popUpCloseBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.popUpCloseBtnColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_hide_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.popUpCloseBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.popUpCloseBtnBgColor\']"\n                        >\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.popUpCloseBtnBgColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.subscribe-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.subscribeBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.subscribeBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.subscribeBtnColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.subscribeBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.subscribeBtnBgColor\']"\n                        >\n                            <template #content="props">\n                                <sw-field\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        type="colorpicker"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.subscribeBtnBgColor"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.snippet-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_open_button_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.openBtnLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.openBtnLabel"\n                                disabled></sw-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_close_button_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.closeBtnLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.closeBtnLabel"\n                                disabled></sw-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_email_field_label_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.emailFieldLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.email"\n                                disabled></sw-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_close_button_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.emailFieldPlaceholder\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.email-placeholder"\n                                disabled></sw-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.subscribeBtnLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.subscribeBtnLabel"\n                                disabled></sw-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_checkbox_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.subscribeCheckboxLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.subscribe-to-newsletter"\n                                disabled></sw-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_content_message_snippet %}\n                        <sw-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.contentMessageLabel\')"\n                                type="text"\n                                value="klaviyo.back-in-stock.modal.contentMessage"\n                                disabled></sw-field>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.additional-classes-fieldset-label\') }}</legend>\n                <sw-container gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_additional_classes %}\n                        <sw-inherit-wrapper\n                                v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.popUpAdditionalClasses\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.popUpAdditionalClasses\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-field\n                                        type="text"\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="KlaviyoIntegrationPlugin.config.popUpAdditionalClasses"\n                                        @input="props.updateCurrentValue"></sw-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n        </sw-card>\n    </div>\n{% endblock %}\n'},"991l":function(e,t){e.exports='{% block klaviyo_integration_settings_customer %}\n    <sw-card :title="$tc(\'klaviyo-integration-settings.customer.title\')">\n\n        {% block klaviyo_integration_settings_customer_custom_field_mapping %}\n\n            <template v-if="!isLoading" v-for="mappedField, mappedKey in customFieldMapping">\n                <sw-container columns="2fr 5fr 5fr" gap="16px">\n\n                    <sw-switch-field\n                            :label="$tc(\'sw-boolean-filter.active\')"\n                            :disabled="isLoading"\n                            size="small"\n                            v-model="mappedField.active">\n                    </sw-switch-field>\n\n                    <sw-text-field v-model="mappedField.customLabel"\n                                   :disabled="!mappedField.active"\n                                   :placeholder="$tc(\'klaviyo-integration-settings.customer.fieldMapping.item.fieldNamePlaceholder\')"\n                                   :error="mappingErrorStates[mappedKey]?.code !== undefined ? mappingErrorStates[mappedKey] : null"\n                                   :label="$tc(\'klaviyo-integration-settings.customer.fieldMapping.item.fieldName\')">\n                    </sw-text-field>\n                    <div class="custom-field-hint-container">\n                        <span>{{ getCustomFieldHint(mappedKey) }}</span>\n                    </div>\n                </sw-container>\n            </template>\n\n            <div v-if="!isLoading && noCustomFieldsError" class="klaviyo-fieldmapping-notice-block">\n                {{ $tc(noCustomFieldsError) }}\n            </div>\n\n        {% endblock %}\n        <sw-loader v-if="isLoading"/>\n\n    </sw-card>\n{% endblock %}\n'},DLxA:function(e,t){e.exports='{% block klaviyo_integration_settings_synchronization_control %}\n    <div class="klaviyo-integration-settings-synchronization-control">\n\n        {% block klaviyo_integration_settings_synchronization_control_historical_events_tracking %}\n            <sw-button-process variant="ghost"\n                               :isLoading="historicalEventsJobInteractor.isSynchronizationInProgress"\n                               :processSuccess="historicalEventsJobInteractor.isSynchronizationSuccess"\n                               @click="scheduleHistoricalEventsSynchronization"\n                               @process-finish="resetHistoricalEventsSynchronizationState">\n                {{ $tc(\'klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.button_label\') }}\n            </sw-button-process>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_synchronization_control_subscribers %}\n            <sw-button-process variant="ghost"\n                               :isLoading="subscribersSynchronizationJobInteractor.isSynchronizationInProgress"\n                               :processSuccess="subscribersSynchronizationJobInteractor.isSynchronizationSuccess"\n                               @click="scheduleSubscribersSynchronization"\n                               @process-finish="resetSubscribersSynchronizationState">\n                {{ $tc(\'klaviyo_integration_plugin.subscribers.schedule_synchronization.button_label\') }}\n            </sw-button-process>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n'},Fybe:function(e,t,n){var i=n("/+IU");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d2d7d0d8",i,!0,{})},JsR3:function(e,t,n){var i=n("nsB4");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("443b6b79",i,!0,{})},MRTA:function(e){e.exports=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Klaviyo Job Listing","description":"job-listing"},"menu":{"title":"Klaviyo Job Listing"},"page":{"listing":{"title":"Job Listing","description":"List of Jobs","grid":{"column":{"type":"Type","message":"Message","status":"Status","name":"Name","started-at":"Started at","finished-at":"Finished at","created-at":"Created at"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Children"},"job-listing":{"filter":{"job-status":"Job status","job-status-placeholder":"Select job status...","job-type":"Job type","job-type-placeholder":"Select job type...","created-at":"Job Created At","from":"From","to":"To"}}},"actions":{"reschedule-job":{"button":{"label":"Reschedule job"}},"show-messages":{"button":{"label":"Show messages"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"General","credentialsAlert":"All credentials must be configured on sales channel level.","initialization":{"label":"Initialize Klaviyo After First Interaction With Page.","general-label":"Interaction settings","helpText":"After the client starts interacting with the page, the Klaviyo scripts will be initialized. On subsequent page transitions, the scripts will be initialized immediately."}},"pop-up":{"title":"Back-In-Stock Pop-up Styles","open-button-fieldset-label":"Pop-Up opening button","close-button-fieldset-label":"Pop-Up close button","subscribe-button-fieldset-label":"Subscribe button","snippet-button-fieldset-label":"Snippet names","additional-classes-fieldset-label":"Additional classes","colorLabel":"Color","backgroundLabel":"Background","openBtnLabel":"Open Button","closeBtnLabel":"Close Button","contentMessageLabel":"Content message","subscribeBtnLabel":"Subscribe Button","subscribeCheckboxLabel":"Subscribe checkbox text","emailFieldLabel":"Email field label","emailFieldPlaceholder":"Email field placeholder"},"configs":{"credentials":{"messageNotBlank":"This field must be filled."},"enabled":{"label":"Enable Account","helpText":"By switching this toggle you can enable/disable configured Klaviyo account on current sales-channel."},"privateApiKey":{"label":"Klaviyo Private API key","helpText":"Klaviyo Private API key. You can find it in your Klaviyo account"},"publicApiKey":{"label":"Klaviyo Public API key","helpText":"Klaviyo Public API key. You can find it in your Klaviyo account"},"klaviyoListForSubscribersSync":{"label":"Klaviyo List name for subscribers sync","helpText":"The name of the Subscribers list in Klaviyo where all Shopware 6 subscribers will be added.\\n In case of duplicate names first found list will be used"},"trackDeletedAccountOrders":{"label":"Track Deleted Account\'s Orders","helpText":"Do we need to synchronize deleted customer\'s order events to Klaviyo? Note: When this feature is enabled, duplicate Klaviyo profiles may be synchronized."},"trackViewedProduct":{"label":"Track Viewed Product","helpText":"Do we need to send \\"Viewed Product\\" Event to Klaviyo?"},"trackRecentlyViewedItems":{"label":"Track Recently Viewed Items","helpText":"Do we need to send \\"Recently Viewed Items\\" Event to Klaviyo?"},"trackAddedToCart":{"label":"Track Added to Cart","helpText":"Do we need to send \\"Added to Cart Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackStartedCheckout":{"label":"Track Started Checkout","helpText":"Do we need to send \\"Started Checkout Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackPlacedOrder":{"label":"Track Placed Order","helpText":"Do we need to send \\"Placed Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackOrderedProduct":{"label":"Track Ordered Product","helpText":"Do we need to send \\"Ordered Product Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackFulfilledOrder":{"label":"Track Fulfilled Order","helpText":"Do we need to send \\"Fulfilled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackCancelledOrder":{"label":"Track Cancelled Order","helpText":"Do we need to send \\"Cancelled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackRefundedOrder":{"label":"Track Refunded Order","helpText":"Do we need to send \\"Refunded Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackSubscribedToBackInStock":{"label":"Track Back In Stock","helpText":"Do we need to send \\"Back In Stock Event\\" to Klaviyo?\\n"},"apiValidation":{"buttonLabel":"API-key test","emptyErrorMessage":"\\"{entityName}\\" should not be blank!","generalErrorMessage":"Unable to validate API-keys","incorrectCredentialsTitle":"Incorrect Credentials","correctApiMessage":"API-keys are valid","listNotExistMessage":"The specified list is not in the Klaviyo account"}},"customer":{"title":"Custom Field Mapping","fieldMapping":{"labelNotFilledError":"Field Name must be filled.","noMappingFieldsError":"There are no customer custom fields for mapping.","item":{"fieldName":"Field Name","fieldNamePlaceholder":"Type mapping custom label"}}}},"klaviyo_integration_plugin":{"not_available":"N/A","subscribers":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Subscribers synchronization status"},"schedule_synchronization":{"button_label":"Synchronize subscribers","success":"Subscribers synchronization scheduled","failed":"Subscribers synchronization failed to schedule","is_running":"Subscribers synchronization is already running","is_scheduled":"Subscribers synchronization is already scheduled"}},"historical_events_tracking":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Historical Events Tracking synchronization status"},"schedule_synchronization":{"button_label":"Synchronize historical events","success":"Historical events synchronization scheduled","failed":"Historical events synchronization failed to schedule","is_running":"Historical events synchronization is already running","is_scheduled":"Historical events synchronization is already scheduled"}},"promotion":{"exportInKlaviyoFormatButtonLabel":"Export in Klaviyo Format"},"productComparison":{"templates":{"template-label":{"klaviyo-product-feed":"Klaviyo (XML)"}}}}}')},MioN:function(e,t,n){var i=n("Pc4g");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("1f811016",i,!0,{})},NuHH:function(e){e.exports=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Klaviyo Job Übersicht","description":"job-listing"},"menu":{"title":"Klaviyo Job Übersicht"},"page":{"listing":{"title":"Job Übersicht","description":"Job Übersicht","grid":{"column":{"type":"Typ","message":"Nachricht","status":"Status","name":"Name","started-at":"Begonnen am","finished-at":"Fertiggestellt am","created-at":"Erstellt am"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Kinder"},"job-listing":{"filter":{"job-status":"Job Status","job-status-placeholder":"Wähle einen Job Status...","job-type":"Job Typ","job-type-placeholder":"Wähle einen Job Type...","created-at":"Job erstellt am","from":"von","to":"bis"}}},"actions":{"reschedule-job":{"button":{"label":"Job nochmal ausführen"}},"show-messages":{"button":{"label":"Zeige Nachrichten"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"Allgemein","credentialsAlert":"Einstellungen müssen auf Verkaufskanal Ebene durchgeführt sein.","initialization":{"label":"Klaviyo nach der ersten Interaktion mit der Seite initialisieren.","general-label":"Interaktionseinstellungen","helpText":"Nachdem eun User mit der Seite interagiert hat, werden die Klaviyo-Skripte initialisiert. Bei nachfolgenden Seitenübergängen werden die Skripte sofort initialisiert."}},"pop-up":{"title":"Wieder auf Lager Popup-Stile","open-button-fieldset-label":"Pop-Up öffnen Button","close-button-fieldset-label":"Pop-Up schließen Button","subscribe-button-fieldset-label":"Anmelden Button","snippet-button-fieldset-label":"Snippet Namen","additional-classes-fieldset-label":"Zusätzliche Klassen","colorLabel":"Farbe","backgroundLabel":"Hintergrund","openBtnLabel":"Öffnen Button","closeBtnLabel":"Schließen Button","contentMessageLabel":"Inhaltsnachricht","subscribeBtnLabel":"Anmelden Button","subscribeCheckboxLabel":"Anmelden Kontrollkästchen-Text","emailFieldLabel":"E-Mail Feld Etikett","emailFieldPlaceholder":"E-Mail Feld Platzhalter"},"configs":{"credentials":{"messageNotBlank":"Pflichtfeld."},"enabled":{"label":"Account aktivieren","helpText":"Durch Aktivieren dieses Schalters kannst du das konfigurierte Klaviyo-Konto für den aktuellen Verkaufskanal aktivieren/deaktivieren."},"privateApiKey":{"label":"Klaviyo Private API Schlüssel","helpText":"Klaviyo Private API Schlüssel. Du findest ihn in deinem Klaviyo Konto."},"publicApiKey":{"label":"Klaviyo Public API Schlüssel","helpText":"Klaviyo Public API Schlüssel. Du findest ihn in deinem Klaviyo Konto."},"klaviyoListForSubscribersSync":{"label":"Klaviyo Liste für Newsletter Anmeldungen","helpText":"Der Name der Abonnentenliste in Klaviyo, zu der alle Shopware 6 Abonnenten hinzugefügt werden sollen.\\n Bei doppelten Namen wird die zuerst gefundene Liste verwendet."},"trackDeletedAccountOrders":{"label":"Übersicht über die Bestellungen eines gelöschten Kontos","helpText":"Sollen die Bestellevents von gelöschten Kunden zu Klaviyo synchronisiert werden? Hinweis: Wenn diese Funktion aktiviert ist, können doppelte Klaviyo-Profile synchronisiert werden."},"trackViewedProduct":{"label":"Angesehene Produkte tracken","helpText":"Soll das \\"Viewed Product\\" zu Klaviyo übertragen werden?"},"trackRecentlyViewedItems":{"label":"Kürzlich angesehene Produkte tracken","helpText":"Soll das \\"Recently Viewed Items\\" zu Klaviyo übertragen werden?"},"trackAddedToCart":{"label":"Zum Warenkorb hinzugefügt tracken","helpText":"Soll das \\"Added to Cart Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackStartedCheckout":{"label":"Begonnener Checkout tracken","helpText":"Soll das \\"Started Checkout Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackPlacedOrder":{"label":"Bestellungen tracken","helpText":"Soll das \\"Placed Order Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackOrderedProduct":{"label":"Bestelltes Produkt tracken","helpText":"Soll das \\"Ordered Product Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackFulfilledOrder":{"label":"Ausgelieferte Bestellung tracken","helpText":"Soll das \\"Fulfilled Order Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackCancelledOrder":{"label":"Stornierte Bestellung tracken","helpText":"Soll das \\"Cancelled Order Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackRefundedOrder":{"label":"Retournierte Bestellung tracken","helpText":"Soll das \\"Refunded Order Event\\" zu Klaviyo übertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackSubscribedToBackInStock":{"label":"Wieder auf Lager tracken","helpText":"Soll das \\"Back In Stock Event\\" zu Klaviyo übertragen werden?\\n"},"apiValidation":{"buttonLabel":"API-key Prüfung","emptyErrorMessage":"\\"{entityName}\\" darf nicht leer sein!","generalErrorMessage":"API-Schlüssel können nicht validiert werden","incorrectCredentialsTitle":"Falsche Anmeldeinformationen","correctApiMessage":"API-keys sind gültig","listNotExistMessage":"Die angegebene Liste befindet sich nicht im Klaviyo-Konto"}},"customer":{"title":"Zusatzfelder Mapping","fieldMapping":{"labelNotFilledError":"Feldname muss ausgefüllt sein.","noMappingFieldsError":"Es gibt keine Kunden-Zusatzfelder.","item":{"fieldName":"Zusatzfeld Name","fieldNamePlaceholder":"Zusatzfeld Typ"}}}},"klaviyo_integration_plugin":{"not_available":"N/A","subscribers":{"last_synchronization_status":{"finished":"Letzte Synchronisierung: {status} ({date})","not_finished":"Letzte Synchronisierung: {status}"},"last_success_synchronization":"Letzte erfolgreiche Synchronisierung: {date}","get_synchronization_status":{"failed":"Fehler bei letzter Synchronisierung"},"schedule_synchronization":{"button_label":"Synchronisiere Abonnenten.","success":"Abonennten Synchronisierung eingeplant.","failed":"Fehler bei der Planung der Abonennten Synchronisierung.","is_running":"Abonennten Synchronisierung läuft bereits.","is_scheduled":"Abonennten Synchronisierung ist bereits eingeplant."}},"historical_events_tracking":{"last_synchronization_status":{"finished":"Letzte Synchronisierung: {status} ({date})","not_finished":"Letzte Synchronisierung: {status}"},"last_success_synchronization":"Letzte erfolgreiche Synchronisierung: {date}","get_synchronization_status":{"failed":"Fehler bei der historischen Events Tracking Synchronisierung."},"schedule_synchronization":{"button_label":"Synchronisiere historische Events.","success":"Historische Events Synchronisierung eingeplant.","failed":"Fehler bei Planung der historischen Events Synchronisation.","is_running":"Historische Events Synchronisation läuft bereits.","is_scheduled":"Historische Events Synchronisation ist bereits eingeplant."}},"promotion":{"exportInKlaviyoFormatButtonLabel":"Export im Klaviyo Format"},"productComparison":{"templates":{"template-label":{"klaviyo-product-feed":"Klaviyo (XML)"}}}}}')},OxcY:function(e,t){e.exports='{% block job_listing_page %}\n    <sw-page class="klaviyo-job-list">\n        <template slot="content">\n            <od-job-listing-index ref="jobListing"\n                                  :filterCriteria="filterCriteria"\n                                  @job-display-type-changed="onDisplayModeChange"\n                                  :jobTypes="klaviyoJobTypes">\n            </od-job-listing-index>\n        </template>\n        <template #sidebar>\n            <sw-sidebar ref="odSidebar">\n                {% block od_klaviyo_jobs_list_sidebar_refresh %}\n                    <sw-sidebar-item\n                            icon="default-arrow-360-left"\n                            :title="$tc(\'sw-product.list.titleSidebarItemRefresh\')"\n                            @click="onRefresh"></sw-sidebar-item>\n                {% endblock %}\n\n                {% block od_klaviyo_jobs_list_sidebar_filters %}\n                    <sw-sidebar-filter-panel ref="odFilter"\n                            :hidden="hideFilters"\n                            entity="od_scheduler_job"\n                            :store-key="storeKey"\n                            :filters="listFilters"\n                            :defaults="defaultFilters"\n                            :active-filter-number="activeFilterNumber"\n                            @criteria-changed="updateCriteria">\n                    </sw-sidebar-filter-panel>\n                {% endblock %}\n            </sw-sidebar>\n        </template>\n    </sw-page>\n{% endblock %}\n'},Pc4g:function(e,t,n){},SZ7m:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},o=0;o<t.length;o++){var a=t[o],r=a[0],l={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(l):n.push(i[r]={id:r,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,s=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,o){c=n,d=o||{};var r=i(e,t);return f(r),function(t){for(var n=[],o=0;o<r.length;o++){var l=r[o];(s=a[l.id]).refs--,n.push(s)}t?f(r=i(e,t)):r=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(b(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(b(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:r}}}}function y(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var t,n,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(g){var o=s++;i=l||(l=y()),t=m.bind(null,i,o,!1),n=m.bind(null,i,o,!0)}else i=y(),t=_.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var v,k=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function m(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function _(e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"St/j":function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<rss version="2.0" xmlns:g="http://base.google.com/ns/1.0" xmlns:atom="http://www.w3.org/2005/Atom">\n    <Products>\n'},aWUg:function(e,t,n){var i=n("n86h");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("5418c732",i,!0,{})},iPUC:function(e,t){e.exports='{% block sw_product_deliverability_form_max_purchase_field %}\n    {% parent() %}\n    {% block od_klaviyo_back_in_stock_email_notification %}\n        <sw-field v-model="product.customFields.klaviyo_back_in_stock_disabled"\n                  type="switch"\n                  label="Disable back in stock email notifications"\n        />\n    {% endblock %}\n{% endblock %}'},n86h:function(e,t,n){},nsB4:function(e,t,n){},olon:function(e,t){e.exports='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.28249 22.8186L22.5482 8.73089C23.0015 8.46725 23.5165 8.32837 24.0408 8.32837C24.5652 8.32837 25.0802 8.46725 25.5335 8.73089L46.7992 22.8186C47.0857 22.9576 47.3274 23.1744 47.4964 23.4443C47.6655 23.7142 47.7551 24.0263 47.7551 24.3447C47.7551 24.6632 47.6655 24.9753 47.4964 25.2452C47.3274 25.5151 47.0857 25.7319 46.7992 25.8709L43.9481 27.7493C41.8213 24.3893 38.8794 21.6218 35.3959 19.7041C31.9124 17.7864 28.0005 16.7807 24.024 16.7807C20.0476 16.7807 16.1357 17.7864 12.6522 19.7041C9.16869 21.6218 6.22676 24.3893 4.09999 27.7493L1.24889 25.8709C0.967002 25.7261 0.731008 25.5056 0.567361 25.2342C0.403714 24.9629 0.318881 24.6513 0.322369 24.3344C0.325857 24.0175 0.417529 23.7078 0.587111 23.4401C0.756693 23.1724 0.997482 22.9572 1.28249 22.8186V22.8186ZM24.0241 22.6509C21.0211 22.6577 18.0686 23.4239 15.4413 24.8783C12.814 26.3327 10.5972 28.428 8.99719 30.9693L13.8943 34.2229C14.9432 32.4831 16.424 31.0438 18.1929 30.0448C19.9618 29.0457 21.9589 28.5207 23.9905 28.5207C26.0221 28.5207 28.0191 29.0457 29.7881 30.0448C31.557 31.0438 33.0378 32.4831 34.0867 34.2229L38.9839 30.9693C37.4071 28.4217 35.2047 26.3199 32.5862 24.8639C29.9677 23.4079 27.0202 22.646 24.0241 22.6509V22.6509ZM24.0241 34.4242C22.9657 34.4312 21.9278 34.717 21.0151 35.2529C20.1023 35.7888 19.3469 36.5557 18.825 37.4765L22.1122 39.6232C22.6469 40.0754 23.3238 40.3248 24.0241 40.3276C24.7254 40.3307 25.4043 40.0805 25.936 39.6232L29.2231 37.4765C28.7055 36.552 27.9511 35.7819 27.0374 35.2455C26.1237 34.7091 25.0836 34.4256 24.0241 34.4242V34.4242Z" fill="url(#paint0_linear_101_11)"></path><defs><linearGradient id="paint0_linear_101_11" x1="24.0387" y1="40.3276" x2="24.0387" y2="8.32834" gradientUnits="userSpaceOnUse"><stop stop-color="#EFC119"></stop><stop offset="0.3314" stop-color="#92C84E"></stop><stop offset="0.4859" stop-color="#71BF5B"></stop><stop offset="0.7506" stop-color="#15B158"></stop><stop offset="0.903" stop-color="#23AC69"></stop><stop offset="1" stop-color="#23AC69"></stop></linearGradient></defs></svg>'},rUJT:function(e,t){e.exports="</Products>\n</rss>\n"},"t+xC":function(e,t){e.exports='{% block klaviyo_integration_settings_icon %}\n    <sw-icon name="klaviyo-integration" size="30" multicolor></sw-icon>\n{% endblock %}'},ydqZ:function(e,t){e.exports='{% block klaviyo_integration_settings %}\n    <sw-page class="klaviyo-integration-settings">\n        {% block klaviyo_integration_settings_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'klaviyo-integration-settings.title\') }}\n                </h2>\n            </template>\n        {% endblock %}\n        {% block klaviyo_integration_settings_actions %}\n            <template #smart-bar-actions>\n\n                {% block klaviyo_integration_settings_actions_historical_events_synchronization_control %}\n                    <klaviyo-integration-settings-synchronization-control></klaviyo-integration-settings-synchronization-control>\n                {% endblock %}\n\n                {% block klaviyo_integration_settings_actions_save %}\n                    <sw-button-process v-model="isSaveSuccessful"\n                                       class="klaviyo-integration-settings-save"\n                                       variant="primary"\n                                       :isLoading="isLoading"\n                                       :disabled="isLoading || hasError"\n                                       @click="onSave">\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button-process>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_content %}\n            <template #content>\n\n\n                {% block klaviyo_integration_settings_content_sales_channel_config %}\n                    <sw-sales-channel-config v-model="config"\n                                             ref="configComponent"\n                                             domain="KlaviyoIntegrationPlugin.config">\n                        {% block klaviyo_integration_settings_content_sales_channel_config_channel %}\n                            <template #select="{ onInput, selectedSalesChannelId }">\n                                {% block klaviyo_integration_settings_content_sales_channel_config_channel_card %}\n                                    <sw-card class="sw-card--grid"\n                                             :title="$tc(\'global.entities.sales_channel\', 2)">\n                                        <div class="card-container klaviyo-integration-settings-sales-channel">\n                                            {% block klaviyo_integration_settings_content_sales_channel_config_channel_card_select %}\n                                                <sw-single-select v-model="selectedSalesChannelId"\n                                                                  labelProperty="translated.name"\n                                                                  valueProperty="id"\n                                                                  :isLoading="isLoading"\n                                                                  :options="salesChannels"\n                                                                  @change="onInput">\n                                                </sw-single-select>\n                                            {% endblock %}\n                                        </div>\n                                    </sw-card>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n\n                        {% block klaviyo_integration_settings_content_sales_channel_configs %}\n                            <template #content="{ actualConfigData, allConfigs, selectedSalesChannelId }">\n                                <div v-if="actualConfigData">\n\n                                    {% block klaviyo_integration_settings_content_sales_channel_general %}\n                                        <klaviyo-integration-settings-general\n                                                :actualConfigData="actualConfigData"\n                                                :allConfigs="allConfigs"\n                                                :selectedSalesChannelId="selectedSalesChannelId"\n                                                :privateKeyErrorState="privateKeyErrorState"\n                                                :publicKeyErrorState="publicKeyErrorState"\n                                                :listNameErrorState="listNameErrorState">\n                                        </klaviyo-integration-settings-general>\n                                    {% endblock %}\n\n                                    {% block klaviyo_integration_settings_content_sales_channel_customer %}\n                                        <klaviyo-integration-settings-customer :allConfigs="allConfigs"\n                                                                               :mappingErrorStates="mappingErrorStates">\n                                        </klaviyo-integration-settings-customer>\n                                    {% endblock %}\n\n                                </div>\n                            </template>\n                        {% endblock %}\n\n                    </sw-sales-channel-config>\n                {% endblock %}\n\n                {% block klaviyo_integration_settings_content_loading %}\n                    <sw-loader v-if="isLoading"></sw-loader>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n'}});